<link rel='import' href='../bower_components/polymer/polymer-element.html'>
<dom-module id='info-user'>
    <template>
        <style include='shared-styles'>
            .info{
                padding: 10px;
            }
            .infokey{
                font-weight: bold;
            }
        </style>
        <div class="flex flex--col">
            <div class="flex flex--row flex__item">
                <div class="flex__item info infokey">Nom :</div>
                <div class="flex__item info infoval">{{selectedUser.nom}}</div>
            </div>
            <div class="flex flex--row flex__item">
                <div class="flex__item info infokey">Prenom :</div>
                <div class="flex__item info infoval">{{selectedUser.prenom}}</div>
            </div>
            <div class="flex flex--row flex__item">
                <div class="flex__item info infokey">Age :</div>
                <div class="flex__item info infoval">{{selectedUser.age}}</div>
            </div>
        </div>
        <iron-ajax id='ajaxEl' content-type='application/json' on-response='handleResponse'></iron-ajax>
    </template>
    <script>
        class InfoUser extends Polymer.Element {
            static get is() {
                return 'info-user'
            }
            static get properties() {
                return {
                    selectedUser:{
                        type:Object,
                        observer:'_selectedUserChanged'
                    }
                }
            }
            ready(){
                super.ready()
                
            }
            handleResponse(evt){
            }
            _getUserInfo(id)
            {
                this.$.ajaxEl.url = "/userInfo/"+id;
                this.$.ajaxEl.method = "GET";
                this.$.ajaxEl.generateRequest();
            }
            _selectedUserChanged(val)
            {
                //console.log('Selected user changed from info-user');
                
            }
        }
        window.customElements.define(InfoUser.is, InfoUser);
    </script>
</dom-module>